#pragma checksum "C:\pevolution\KendoApp\KendoApp\Views\Employee\Index.cshtml" "{8829d00f-11b8-4213-878b-770e8597ac16}" "f43920acd0425037d355216c7f22a8f6428cacad7f8b3b62e0a605b51f38e482"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Employee_Index), @"mvc.1.0.view", @"/Views/Employee/Index.cshtml")]
namespace AspNetCore
{
    #line default
    using global::System;
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Mvc;
    using global::Microsoft.AspNetCore.Mvc.Rendering;
    using global::Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\pevolution\KendoApp\KendoApp\Views\_ViewImports.cshtml"
using KendoApp

#nullable disable
    ;
#nullable restore
#line 2 "C:\pevolution\KendoApp\KendoApp\Views\_ViewImports.cshtml"
using KendoApp.Models

#line default
#line hidden
#nullable disable
    ;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"Sha256", @"f43920acd0425037d355216c7f22a8f6428cacad7f8b3b62e0a605b51f38e482", @"/Views/Employee/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"Sha256", @"6dcc97e570fd1adc2934e9c4a5a7af644ca4f1461ce1afaaa49c273d46957add", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Employee_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IEnumerable<Employee>>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 3 "C:\pevolution\KendoApp\KendoApp\Views\Employee\Index.cshtml"
  
    ViewData["Title"] = "Employees";

#line default
#line hidden
#nullable disable

            WriteLiteral("\r\n<div id=\"grid\"></div>\r\n\r\n");
            DefineSection("Scripts", async() => {
                WriteLiteral(@"
    <script id=""fullname-template"" type=""text/x-kendo-template"">
        <div class=""d-flex"">
            <div class=""avatar"">#data.fullName#</div>
            <div class=""d-flex flex-column align-items-start"">
                <span class=""full-name"">#: data.fullName #</span>
                <span class=""full-name""></span>
            </div>
        </div>
    </script>

    <script id=""alerts"" type=""text/x-kendo-template"">
        <div id=""count-alert-city"" class=""alert alert-primary"" role=""alert"">
        </div>
    </script>

    <script>
        function formatPhone(phone) {
            var tempPhone = ('' + phone).replace(/\D/g, '');
            var match = tempPhone.match(/^(\d{3})(\d{3})(\d{4})$/);

            if (match) {
                return '(' + match[1] + ') ' + match[2] + '-' + match[3];
            }

            return phone;
        }

        $(document).ready(function () {
            $(""#grid"").kendoGrid({
                toolbar: [
                    { t");
                WriteLiteral("emplate: kendo.template($(\"#alerts\").html()) }\r\n                ],\r\n                dataSource: {\r\n                    transport: {\r\n                        read: {\r\n                            url: \"");
                Write(
#nullable restore
#line 45 "C:\pevolution\KendoApp\KendoApp\Views\Employee\Index.cshtml"
                                   Url.Action("GetEmployees", "Employee")

#line default
#line hidden
#nullable disable
                );
                WriteLiteral(@""",
                            dataType: ""json""
                        }
                    },
                    pageSize: 20
                },
                height: 550,
                groupable: true,
                sortable: true,
                pageable: {
                    refresh: true,
                    pageSizes: true,
                    buttonCount: 5
                },
                dataBound: function (e) {
                    var grid = e.sender;
                    var items = e.sender.items();
                    var data = grid.dataSource.data();
                    var countMississauga = data.filter(x => x.city == ""Mississauga"").length;

                    items.each(function (e) {
                        var dataItem = grid.dataItem(this);
                        var ddt = $(this).find('.avatar');

                        const [name, lastName] = dataItem.fullName.split(' ');

                        /* Create Avatar */
                        $(dd");
                WriteLiteral(@"t).kendoAvatar({
                            type: ""text"",
                            text: `${name[0]}${lastName[0]}`,
                            themeColor: ""tertiary""
                        });

                        /* Set Employee ID */
                        $(this).find('.full-name').eq(1).text(dataItem.employeeId);

                        /* Set Phone Number */
                        dataItem.phoneNumber = formatPhone(dataItem.phoneNumber);   

                        /* Set City Alert */
                        $(""#count-alert-city"").text(`${countMississauga} Employees in Mississauga: `);
                    })
                },
                columns: [
                    {
                        field: ""fullName"",
                        title: ""Full Name"",
                        template: kendo.template($(""#fullname-template"").html())
                    },
                    { 
                        field: ""sin"", 
                        title: ""SIN"",
    ");
                WriteLiteral(@"                    template: ""#: sin.toString().replace(/(\\d{3})(\\d{3})(\\d{3})/, '$1-$2-$3') #""
                    },
                    { 
                        field: ""phoneNumber"",
                        title: ""Phone Number"",
                        template: ""#= formatPhone(phoneNumber) #""
                    },
                    { 
                        field: ""country"",
                        title: ""Country"",
                        template: ""#= country == 'Canada' ? '<span class=\""warning-country\"">Canada</span>' : country #""
                    },
                    {
                        field: ""city"",
                        title: ""City"",
                        template:"" #= city == 'Mississauga' ? '<span class=\""badge badge-primary badge-padding\"">Mississauga</span>' : city #""
                    },
                    { 
                        field: ""salary"",
                        title: ""Salary"",
                        template: ""$#= kendo.toString(");
                WriteLiteral("salary, \'0.00\') #\"\r\n                    },\r\n\r\n                ]\r\n            });\r\n        });\r\n    </script>\r\n\r\n");
            }
            );
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IEnumerable<Employee>> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
